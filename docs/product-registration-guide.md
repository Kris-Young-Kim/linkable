# LinkAble 상품 등록 가이드

## 목차

1. [개요](#개요)
2. [접근 방법](#접근-방법)
3. [상품 등록 단계별 가이드](#상품-등록-단계별-가이드)
4. [ISO 9999 코드 이해하기](#iso-9999-코드-이해하기)
5. [필드별 상세 설명](#필드별-상세-설명)
6. [실제 등록 예시](#실제-등록-예시)
7. [상품 수정 및 삭제](#상품-수정-및-삭제)
8. [자주 묻는 질문](#자주-묻는-질문)
9. [모범 사례](#모범-사례)

---

## 개요

LinkAble 관리자 페이지에서 ISO 9999 표준에 따른 보조기기 상품을 등록하고 관리할 수 있습니다. 등록된 상품은 사용자의 ICF 분석 결과에 따라 자동으로 추천됩니다.

### 상품 등록의 목적

- 사용자에게 적절한 보조기기 추천 제공
- ISO 9999 표준에 따른 체계적인 상품 관리
- 다양한 플랫폼(쿠팡, 네이버 등)의 상품 정보 통합 관리

---

## 접근 방법

### 1. 관리자 권한 확인

상품 등록을 위해서는 **관리자(admin)** 또는 **전문가(expert)** 권한이 필요합니다.

- 관리자 권한 설정 방법은 `docs/admin-guide.md` 참고

### 2. 상품 관리 페이지 접근

1. 헤더의 "관리자" 버튼 클릭
2. 사이드 네비게이션에서 "상품 관리" 클릭
3. 또는 직접 `/admin/products` URL로 접근

---

## 상품 등록 단계별 가이드

### Step 1: 기본 정보 입력

**필수 필드:**

1. **상품 이름**
   - 예: "무게조절 식기 세트", "적응형 숟가락", "LED 손전등 지팡이"
   - 사용자가 쉽게 이해할 수 있는 명확한 이름 사용

2. **ISO 코드**
   - ISO 9999:2022 표준 코드 입력
   - 형식: 공백 포함 (예: `15 09`, `18 30`, `12 22`)
   - 자주 사용되는 ISO 코드는 아래 [ISO 9999 코드 이해하기](#iso-9999-코드-이해하기) 섹션 참고

### Step 2: 선택 정보 입력 (권장)

3. **가격**
   - 숫자만 입력 (원 단위)
   - 예: `25000`, `150000`
   - 소수점 없이 입력

4. **구매 링크**
   - 쿠팡, 네이버, 11번가 등 구매 가능한 URL
   - 예: `https://www.coupang.com/vp/products/...`
   - 제휴 링크 사용 권장

5. **이미지 URL**
   - 상품 이미지의 공개 접근 가능한 URL
   - 예: `https://thumbnail.image.com/product.jpg`
   - CORS 설정이 올바른 이미지 사용

6. **제조사**
   - 상품 제조사명
   - 예: "삼성", "LG", "오토바이크"

7. **카테고리**
   - 판매 플랫폼 정보
   - 예: `coupang`, `naver`, `11st`, `gmarket`
   - 소문자로 입력 권장

8. **설명**
   - 상품에 대한 상세 설명
   - 사용자에게 도움이 되는 정보 포함
   - 예: "손 떨림이 있는 분들을 위한 무게조절 식기입니다."

### Step 3: 등록 완료

1. 모든 정보 입력 후 "상품 등록" 버튼 클릭
2. 성공 메시지 확인
3. 상품 목록에 새로 등록된 상품 확인

---

## ISO 9999 코드 이해하기

### ISO 9999:2022 구조

ISO 9999:2022는 보조기기를 분류하는 국제 표준입니다.

**코드 형식:**
- **Subclass 레벨**: 4자리 숫자, 공백 포함 표시
- 예: `15 09` (식사 및 음주 보조기기)
- 예: `18 30` (수직 접근성 보조기기)
- 예: `12 22` (수동 휠체어)

### 주요 ISO 코드 목록

| ISO 코드 | 분류명 | 설명 | 관련 ICF 코드 |
|---------|--------|------|-------------|
| `15 09` | 식사 및 음주 보조기기 | 무게조절 식기, 적응형 숟가락 등 | b765, d550 |
| `18 30` | 수직 접근성 보조기기 | 경사로, 승강기 등 | d450, e120 |
| `12 22` | 수동 휠체어 | 일반 휠체어, 접이식 휠체어 | d450, d465 |
| `12 31` | 체위 변경 보조기기 | 전동 리프트, 체위 변경 보조기 | b730, d410, d420 |
| `21 06` | 청각 보조기기 | 보청기, 증폭 기기 | b230, d115 |
| `21 27` | 평형/전정 보조기기 | 어지럼 보조기기 | b235, d115 |
| `22 30` | 의사소통 보조기기 | AAC 디바이스, 의사소통 보조기 | d360, e125 |

### ISO 코드 찾기

1. **ICF 분석 결과 확인**
   - 사용자 상담에서 추출된 ICF 코드 확인
   - 예: `d550` (식사하기) → ISO `15 09`

2. **매핑 테이블 참고**
   - `core/matching/iso-mapping.ts` 파일 참고
   - ICF 코드와 ISO 코드의 매핑 규칙 확인

3. **ISO 9999:2022 표준 문서 참고**
   - 공식 ISO 9999:2022 문서 참고
   - `docs/iso-9999-2022-mapping-reference.md` 참고

---

## 필드별 상세 설명

### 필수 필드

#### 1. 상품 이름 (`name`)

**형식:** 텍스트 (최대 255자)

**작성 가이드:**
- ✅ 좋은 예: "무게조절 식기 세트", "LED 손전등 지팡이", "적응형 숟가락"
- ❌ 나쁜 예: "상품1", "보조기기", "제품"

**팁:**
- 브랜드명 포함 가능: "삼성 무선 보청기"
- 주요 기능 포함: "접이식 휠체어", "전동 리프트 체어"

#### 2. ISO 코드 (`iso_code`)

**형식:** 문자열, 공백 포함 (예: `15 09`)

**작성 가이드:**
- ✅ 올바른 형식: `15 09`, `18 30`, `12 22`
- ❌ 잘못된 형식: `1509`, `15-09`, `15.09`

**주의사항:**
- ISO 9999:2022 표준에 맞는 코드 사용
- 공백은 반드시 포함 (가독성 및 시스템 요구사항)
- 잘못된 ISO 코드는 추천 시스템에서 제외될 수 있음

### 선택 필드

#### 3. 가격 (`price`)

**형식:** 숫자 (원 단위)

**작성 가이드:**
- ✅ 예: `25000`, `150000`, `5000`
- ❌ 예: `25,000` (쉼표 포함 불가), `25000원` (단위 포함 불가)

**팁:**
- 정확한 가격 입력 권장
- 가격이 자주 변동되는 경우 최신 가격으로 업데이트

#### 4. 구매 링크 (`purchase_link`)

**형식:** URL (http:// 또는 https://)

**작성 가이드:**
- ✅ 예: `https://www.coupang.com/vp/products/123456`
- ✅ 예: `https://shopping.naver.com/catalog/123456`
- ❌ 예: `coupang.com/product` (프로토콜 누락)

**주의사항:**
- 유효한 URL 형식이어야 함
- 제휴 링크 사용 권장 (수익화 가능)
- 링크가 만료되지 않았는지 확인

**제휴 링크 생성:**
- 쿠팡 파트너스: [Coupang Partners](https://partners.coupang.com)
- 네이버 쇼핑: 네이버 쇼핑 파트너스 프로그램

#### 5. 이미지 URL (`image_url`)

**형식:** 이미지 파일 URL

**작성 가이드:**
- ✅ 예: `https://thumbnail.image.com/product.jpg`
- ✅ 예: `https://cdn.example.com/images/product.png`
- ❌ 예: 로컬 파일 경로, 비공개 이미지

**주의사항:**
- 공개 접근 가능한 URL이어야 함
- CORS 설정이 올바른 이미지 사용
- 이미지가 실제로 존재하는지 확인
- 권장 이미지 형식: JPG, PNG, WebP

**이미지 호스팅:**
- CDN 사용 권장
- 이미지 최적화 (용량 최소화)
- 권장 크기: 800x600px 이상

#### 6. 제조사 (`manufacturer`)

**형식:** 텍스트

**작성 가이드:**
- ✅ 예: "삼성", "LG전자", "오토바이크", "휠체어코리아"
- 브랜드명 또는 제조사명 입력

#### 7. 카테고리 (`category`)

**형식:** 텍스트 (소문자 권장)

**작성 가이드:**
- ✅ 예: `coupang`, `naver`, `11st`, `gmarket`, `manual`
- 판매 플랫폼 정보 입력
- 통계 및 필터링에 활용

#### 8. 설명 (`description`)

**형식:** 텍스트 (여러 줄 가능)

**작성 가이드:**
- ✅ 좋은 예:
  ```
  손 떨림이 있는 분들을 위한 무게조절 식기입니다.
  무게 중심을 조절하여 식사 시 떨림을 최소화합니다.
  식기와 숟가락이 세트로 구성되어 있습니다.
  ```
- ❌ 나쁜 예: "좋은 상품입니다", "추천합니다"

**팁:**
- 주요 기능 및 특징 설명
- 사용 대상 설명
- 주의사항 포함 가능

---

## 실제 등록 예시

### 예시 1: 식사 보조기기 등록

**시나리오:** 손 떨림이 있는 사용자를 위한 무게조절 식기 등록

**입력 정보:**

| 필드 | 값 |
|------|-----|
| 상품 이름 | 무게조절 식기 세트 |
| ISO 코드 | `15 09` |
| 가격 | `25000` |
| 구매 링크 | `https://www.coupang.com/vp/products/1234567890` |
| 이미지 URL | `https://thumbnail.image.com/weighted-utensils.jpg` |
| 제조사 | 보조기기코리아 |
| 카테고리 | `coupang` |
| 설명 | 손 떨림이 있는 분들을 위한 무게조절 식기 세트입니다. 무게 중심을 조절하여 식사 시 떨림을 최소화하며, 식기와 숟가락이 세트로 구성되어 있습니다. |

**결과:**
- 사용자가 "손이 떨려서 식사하기 어려워요"라고 상담하면
- ICF 코드 `d550` (식사하기)가 추출되고
- ISO 코드 `15 09`로 매칭되어
- 이 상품이 추천 목록에 표시됩니다.

### 예시 2: 수직 접근성 보조기기 등록

**시나리오:** 휠체어 사용자를 위한 경사로 등록

**입력 정보:**

| 필드 | 값 |
|------|-----|
| 상품 이름 | 접이식 휠체어 경사로 |
| ISO 코드 | `18 30` |
| 가격 | `150000` |
| 구매 링크 | `https://shopping.naver.com/catalog/9876543210` |
| 이미지 URL | `https://cdn.example.com/ramp.jpg` |
| 제조사 | 접근성솔루션 |
| 카테고리 | `naver` |
| 설명 | 휠체어 사용자가 문턱이나 낮은 계단을 쉽게 넘을 수 있도록 돕는 접이식 경사로입니다. 알루미늄 소재로 가볍고 내구성이 뛰어나며, 설치가 간편합니다. |

### 예시 3: 최소 정보로 등록

**시나리오:** 빠르게 상품 등록 (필수 정보만)

**입력 정보:**

| 필드 | 값 |
|------|-----|
| 상품 이름 | LED 손전등 지팡이 |
| ISO 코드 | `12 22` |
| 가격 | (비워둠) |
| 구매 링크 | (비워둠) |
| 이미지 URL | (비워둠) |
| 제조사 | (비워둠) |
| 카테고리 | (비워둠) |
| 설명 | (비워둠) |

**결과:**
- 필수 정보만으로도 등록 가능
- 나중에 수정 기능으로 추가 정보 입력 가능

---

## 상품 수정 및 삭제

### 상품 수정

1. 수정할 상품 카드에서 "수정" 버튼 클릭
2. 수정 모드로 전환되면 모든 필드 편집 가능
3. 원하는 필드 수정
4. **활성 상태 토글**: Switch로 활성/비활성 전환
   - **활성**: 추천 목록에 표시
   - **비활성**: 추천 목록에서 제외 (데이터는 유지)
5. "저장" 버튼 클릭

**수정 가능한 필드:**
- 모든 등록 필드 (이름, ISO 코드, 가격, 구매 링크, 이미지 URL, 제조사, 카테고리, 설명)
- 활성 상태

### 상품 삭제

1. 삭제할 상품 카드에서 "삭제" 버튼 클릭
2. 확인 대화상자에서 "확인" 클릭
3. 상품이 데이터베이스에서 완전히 삭제됨

**주의사항:**
- ⚠️ 삭제된 상품은 복구할 수 없습니다
- 해당 상품과 연결된 추천 데이터는 유지되지만, 상품 정보는 표시되지 않습니다
- 실수로 삭제한 경우 다시 등록해야 합니다

---

## 자주 묻는 질문

### Q1. ISO 코드를 모르겠어요.

**A**: 다음 방법으로 확인할 수 있습니다:

1. **ICF 코드로 찾기**
   - 사용자 상담에서 추출된 ICF 코드 확인
   - `core/matching/iso-mapping.ts` 파일에서 매핑 규칙 확인

2. **표준 문서 참고**
   - ISO 9999:2022 표준 문서 참고
   - `docs/iso-9999-2022-mapping-reference.md` 참고

3. **기존 상품 참고**
   - 관리자 페이지에서 기존 상품의 ISO 코드 확인
   - 유사한 상품의 ISO 코드 참고

### Q2. 같은 ISO 코드로 여러 상품을 등록할 수 있나요?

**A**: 네, 가능합니다. 하나의 ISO 코드에 여러 상품을 등록하면 사용자에게 더 다양한 선택지를 제공할 수 있습니다.

**예시:**
- ISO `15 09`에 대해:
  - 상품 A: 무게조절 식기 (쿠팡)
  - 상품 B: 적응형 숟가락 (네이버)
  - 상품 C: 특수 식기 세트 (11번가)

모두 등록 가능하며, 추천 시스템에서 모두 표시됩니다.

### Q3. 상품을 등록했는데 추천 목록에 나타나지 않아요.

**A**: 다음을 확인해주세요:

1. **활성 상태 확인**
   - 상품의 `is_active` 상태가 "활성"인지 확인
   - 비활성 상태면 추천 목록에서 제외됩니다

2. **ISO 코드 확인**
   - 등록한 ISO 코드가 사용자의 ICF 분석 결과와 매칭되는지 확인
   - 예: 사용자가 "식사하기 어려워요"라고 하면 `d550` → ISO `15 09` 매칭

3. **데이터베이스 확인**
   - 상품이 실제로 데이터베이스에 저장되었는지 확인
   - 관리자 페이지에서 상품 목록 확인

### Q4. 이미지가 표시되지 않아요.

**A**: 다음을 확인해주세요:

1. **이미지 URL 확인**
   - URL이 올바른 형식인지 확인 (http:// 또는 https://)
   - 이미지가 실제로 존재하는지 확인

2. **CORS 설정 확인**
   - 이미지 서버의 CORS 설정 확인
   - 공개 접근 가능한 이미지인지 확인

3. **이미지 형식 확인**
   - 지원되는 형식: JPG, PNG, WebP
   - 파일 확장자 확인

### Q5. 구매 링크를 제휴 링크로 변경하고 싶어요.

**A**: 상품 수정 기능을 사용하세요:

1. 해당 상품의 "수정" 버튼 클릭
2. "구매 링크" 필드에 새로운 제휴 링크 입력
3. "저장" 버튼 클릭

**제휴 링크 생성:**
- 쿠팡 파트너스: [Coupang Partners](https://partners.coupang.com)
- 네이버 쇼핑: 네이버 쇼핑 파트너스 프로그램

### Q6. 가격이 자주 변동되는데 어떻게 관리하나요?

**A**: 상품 수정 기능을 사용하여 가격을 업데이트할 수 있습니다:

1. 해당 상품의 "수정" 버튼 클릭
2. "가격" 필드에 새로운 가격 입력
3. "저장" 버튼 클릭

**자동화 (향후 계획):**
- 상품 크롤링 시스템을 통해 가격 자동 업데이트 (구현 예정)

---

## 모범 사례

### 1. 상품 정보의 완전성

**권장:**
- 가능한 모든 필드 입력
- 정확한 정보 제공
- 최신 정보 유지

**이유:**
- 사용자에게 더 나은 추천 경험 제공
- 통계 및 분석에 유용
- 검색 및 필터링 기능 향상

### 2. ISO 코드 정확성

**권장:**
- ISO 9999:2022 표준에 맞는 정확한 코드 사용
- 공백 포함 형식 준수 (예: `15 09`)

**이유:**
- 추천 시스템의 정확도 향상
- 데이터 일관성 유지

### 3. 제휴 링크 사용

**권장:**
- 가능한 경우 제휴 링크 사용
- 정기적으로 링크 유효성 확인

**이유:**
- 수익화 가능
- 사용자에게 신뢰할 수 있는 링크 제공

### 4. 이미지 품질

**권장:**
- 고해상도 이미지 사용 (800x600px 이상)
- 이미지 최적화 (용량 최소화)
- CDN 사용

**이유:**
- 사용자 경험 향상
- 로딩 속도 최적화

### 5. 설명 작성

**권장:**
- 명확하고 구체적인 설명
- 주요 기능 및 특징 포함
- 사용 대상 명시

**이유:**
- 사용자가 상품을 이해하기 쉬움
- 추천 정확도 향상

### 6. 정기적인 업데이트

**권장:**
- 가격 정보 정기 업데이트
- 구매 링크 유효성 확인
- 비활성 상품 정리

**이유:**
- 최신 정보 유지
- 사용자 신뢰도 향상

---

## 추가 리소스

### 관련 문서

- [관리자 페이지 사용 가이드](./admin-guide.md)
- [상품 동기화 계획](./product-sync-plan.md)
- [ISO 9999:2022 매핑 참조 가이드](./iso-9999-2022-mapping-reference.md)

### API 엔드포인트

- `GET /api/admin/products` - 상품 목록 조회
- `POST /api/admin/products` - 새 상품 등록
- `PATCH /api/admin/products/[id]` - 상품 수정
- `DELETE /api/admin/products/[id]` - 상품 삭제

### 코드 참고

- `components/admin/admin-product-manager.tsx` - 상품 관리 UI 컴포넌트
- `core/matching/iso-mapping.ts` - ICF → ISO 매핑 테이블
- `app/api/admin/products/route.ts` - 상품 관리 API

---

**최종 업데이트**: 2025년 1월

